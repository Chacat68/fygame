# 关卡视觉设计

## 关卡整体布局

下面是新关卡「山洞探险」的整体布局示意图，展示了从入口到宝藏区域的完整路径。

```
                                                   [宝藏区域]
                                                   C C C C C
                                                       P
                                                   C     C
                                               P           P
                                                       S
                                           ==================
                                          /
                     [挑战区域]         /
                     C           C     /
                         P   P       /
                             S      /
                         P     P   /
                     C           C/
                 P               P
                         S S    /
                     P P   P P /
                 C           C/
             ================/
            /
           /  [中间区域]
          /   C     C     C
         /       P     P
        /                     C C
       /                   P     P
      /           S             S
     /        P       P
    /     C                       C
   /  ===================================
  /
 [入口区域]
     C   C
         P       P
 C               C
P                   P
            S
===========================
```

## 区域详细设计

### 1. 入口区域

入口区域设计为简单友好的教学区域，让玩家熟悉基本操作。

**地形特点：**
- 平坦的地面
- 简单的低矮平台
- 开阔的空间，便于移动

**元素放置：**
- 5个金币，排列成引导玩家前进的路径
- 1个绿色史莱姆，放置在平地上
- 2-3个静态平台，高度适中

**视觉风格：**
- 明亮的洞口光线
- 可见的洞外景色
- 浅色的地形和背景

### 2. 中间区域

中间区域逐渐增加难度，引入更多游戏元素。

**地形特点：**
- 高低起伏的地形
- 部分悬崖和跳跃点
- 引入第一个移动平台

**元素放置：**
- 8个金币，部分需要跳跃才能获取
- 2个绿色史莱姆，分别放置在不同平台上
- 混合静态和移动平台

**视觉风格：**
- 逐渐变暗的光线
- 洞穴墙壁上的钟乳石和石笋
- 偶尔的水滴效果

### 3. 挑战区域

挑战区域测试玩家的技巧和反应能力。

**地形特点：**
- 复杂的垂直和水平结构
- 需要精确跳跃的平台布局
- 一些单向平台创造垂直路径

**元素放置：**
- 7个金币，大部分需要技巧才能获取
- 3个绿色史莱姆和1个紫色史莱姆
- 多个移动平台，包括水平和垂直移动

**视觉风格：**
- 黑暗的环境
- 一些发光的水晶或蘑菇提供照明
- 更多的洞穴装饰元素

### 4. 宝藏区域

宝藏区域作为关卡的终点和奖励区。

**地形特点：**
- 开阔的终点平台
- 周围有小型平台
- 明显的视觉边界

**元素放置：**
- 5个金币，排列成奖杯或皇冠形状
- 1个增强版史莱姆（紫色或更大的绿色）
- 少量平台，主要用于装饰

**视觉风格：**
- 金色的光芒
- 宝箱或宝石装饰
- 庆祝性的视觉效果

## 特殊元素设计

### 移动平台

```
时间 t=0       时间 t=0.5     时间 t=1.0     时间 t=1.5
    P               P               P               P
    |               |               |               |
    |               |               |               |
    V               V               V               V
位置 x            位置 x+20        位置 x+40        位置 x+20
```

### 敌人巡逻路径

```
绿色史莱姆：
    <------- 巡逻范围 ------->
    S →→→→→→→→→→→→→→→→→→→→→→→→→→
    ←←←←←←←←←←←←←←←←←←←←←←←←←←←

紫色史莱姆（更快）：
    <------- 巡逻范围 ------->
    S →→→→→→→→→→→→→→→→→→→→→→→→→→→→→→
    ←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←
```

### 隐藏区域示例

```
                    [隐藏金币]
                        C
                    [隐藏平台]
                        P
    玩家路径 →→→→→→→→→→→→→→→→→→→→→→→→→
                    ^
                    |
                [跳跃提示，如特殊纹理或箭头]
```

## 实现建议

1. **TileMap使用**：
   - 使用world_tileset.png中的图块创建基本地形
   - 使用单向平台图块（9,0到11,2）创建可从下方穿过的平台
   - 使用装饰性图块丰富背景

2. **相机设置**：
   - 设置适当的相机边界，确保玩家不会看到关卡外的空白区域
   - 考虑添加轻微的相机跟随平滑效果，增强游戏感觉

3. **光照效果**（如果支持）：
   - 入口区域：明亮的环境光
   - 中间区域：中等亮度，有方向性光源
   - 挑战区域：较暗，点光源照明
   - 宝藏区域：金色的环境光

## 测试要点

1. **流程测试**：确保玩家可以从入口顺利到达终点
2. **跳跃测试**：确保所有平台间距适合玩家的跳跃能力
3. **难度测试**：确保难度曲线平滑，没有突然的难度峰值
4. **收集测试**：确保所有金币都可以被收集到
5. **视觉测试**：确保关卡在视觉上引导玩家沿着设计的路径前进